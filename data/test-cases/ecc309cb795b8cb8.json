{"uid":"ecc309cb795b8cb8","name":"test_relevancy_case_3","fullName":"tests.test_relevancy#test_relevancy_case_3","historyId":"c0ee9e7a10f76089e1b266d8df3c7eb0","time":{"start":1766411381299,"stop":1766411385174,"duration":3875},"status":"failed","statusMessage":"AssertionError: Test failed for input: Where is the company located?, expected: The company is located in New York City., got: I'm sorry, but I do not have enough information to provide you with the location of the company. Please provide the name of the company you are referring to so I can assist you better. | Metrics: Answer Relevancy (score: 0.4, threshold: 0.7, strict: False, error: None, reason: The score is 0.40 because there are multiple irrelevant statements that do not address the location of the company as requested in the input. While some relevant information might be present, the repeated irrelevant statements lower the overall score.) failed.\nassert False","statusTrace":"def test_relevancy_case_3():\n>       generate_relevancy_test(DOCS[2])\n\ntests/test_relevancy.py:44: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ndoc = {'context': ['Our headquarters are in New York City.'], 'expected_output': 'The company is located in New York City.', 'input': 'Where is the company located?'}\n\n    def generate_relevancy_test(doc):\n        metric = relevancy(llm, threshold=0.7)\n        test_case = create_test_case(\n            input=doc[\"input\"],\n            actual_output=llm.generate(doc[\"input\"]),\n            expected_output=doc[\"expected_output\"],\n            context=doc[\"context\"],\n            retrieval_context=doc[\"context\"]\n        )\n        success, message = safe_assert(test_case=test_case, metrics=[metric])\n>       assert success, message\nE       AssertionError: Test failed for input: Where is the company located?, expected: The company is located in New York City., got: I'm sorry, but I do not have enough information to provide you with the location of the company. Please provide the name of the company you are referring to so I can assist you better. | Metrics: Answer Relevancy (score: 0.4, threshold: 0.7, strict: False, error: None, reason: The score is 0.40 because there are multiple irrelevant statements that do not address the location of the company as requested in the input. While some relevant information might be present, the repeated irrelevant statements lower the overall score.) failed.\nE       assert False\n\ntests/test_relevancy.py:35: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1766411345323,"stop":1766411345323,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Test failed for input: Where is the company located?, expected: The company is located in New York City., got: I'm sorry, but I do not have enough information to provide you with the location of the company. Please provide the name of the company you are referring to so I can assist you better. | Metrics: Answer Relevancy (score: 0.4, threshold: 0.7, strict: False, error: None, reason: The score is 0.40 because there are multiple irrelevant statements that do not address the location of the company as requested in the input. While some relevant information might be present, the repeated irrelevant statements lower the overall score.) failed.\nassert False","statusTrace":"def test_relevancy_case_3():\n>       generate_relevancy_test(DOCS[2])\n\ntests/test_relevancy.py:44: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ndoc = {'context': ['Our headquarters are in New York City.'], 'expected_output': 'The company is located in New York City.', 'input': 'Where is the company located?'}\n\n    def generate_relevancy_test(doc):\n        metric = relevancy(llm, threshold=0.7)\n        test_case = create_test_case(\n            input=doc[\"input\"],\n            actual_output=llm.generate(doc[\"input\"]),\n            expected_output=doc[\"expected_output\"],\n            context=doc[\"context\"],\n            retrieval_context=doc[\"context\"]\n        )\n        success, message = safe_assert(test_case=test_case, metrics=[metric])\n>       assert success, message\nE       AssertionError: Test failed for input: Where is the company located?, expected: The company is located in New York City., got: I'm sorry, but I do not have enough information to provide you with the location of the company. Please provide the name of the company you are referring to so I can assist you better. | Metrics: Answer Relevancy (score: 0.4, threshold: 0.7, strict: False, error: None, reason: The score is 0.40 because there are multiple irrelevant statements that do not address the location of the company as requested in the input. While some relevant information might be present, the repeated irrelevant statements lower the overall score.) failed.\nE       assert False\n\ntests/test_relevancy.py:35: AssertionError","steps":[],"attachments":[{"uid":"12350e7f7374c96e","name":"Test Outcome","source":"12350e7f7374c96e.attach","type":"text/plain","size":34},{"uid":"e8c0e615e4e18f5a","name":"log","source":"e8c0e615e4e18f5a.txt","type":"text/plain","size":87}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_relevancy"},{"name":"host","value":"runnervmh13bl"},{"name":"thread","value":"2673-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_relevancy"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"ecc309cb795b8cb8.json","parameterValues":[]}